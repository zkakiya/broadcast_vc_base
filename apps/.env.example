WEB_PORT=3000
PUBLIC_DIR=public
CORS_ORIGIN=*

DISCORD_TOKEN=YOUR_DATA_HERE
GUILD_ID=YOUR_DATA_HERE
VOICE_CHANNEL_ID=YOUR_DATA_HERE
TEXT_CHANNEL_ID=YOUR_DATA_HERE

RECORDINGS_DIR=./src/recordings
MIN_WAV_BYTES=64000
VAD_SILENCE_MS=700
WHISPER_NO_SPEECH=0.32
SHORT_WAV_LOG=0

NODE_ENV=production
LOG_LEVEL=warn
VOICE_DEBUG=0
SHORT_WAV_LOG=0

# Whisper設定
WHISPER_CMD=/home/z_kakiya/whisper-venv/bin/whisper
WHISPER_MODEL=small
WHISPER_DEBUG=1             # 一時的にON（ログ確認用）
CUDA_VISIBLE_DEVICES=0
LANGUAGE=ja
WHISPER_NO_SPEECH=0.3

WHISPER_SELFTEST=0

# 低信頼セグメントの除外閾値（必要に応じて）
WHISPER_MIN_AVG_LOGPROB=-1.0   # -1.0 ～ -0.6 あたりで調整
WHISPER_MAX_NO_SPEECH=0.60     # 0.6 ～ 0.8 あたりで調整

# 末尾の定型締めフレーズを自動で剥がす（不要なら 0）
WHISPER_STRIP_CLOSERS=1

# Express / WebSocket
PORT=3000

# 翻訳の既定ターゲット（なければ en）
TRANSLATE_ENABLED=1
TRANSLATE_TARGET_DEFAULT=en   # 省略可（未指定時は ja→en / 非ja→ja の自動判定）

# スピーカー個別の翻訳ターゲットを registry/speakers.js で上書き可能

# --- 任意のプロバイダのキーを入れてください（なければ自動でOFF） ---
# OpenAI
OPENAI_API_KEY=YOUR_DATA_HERE
# DeepL
DEEPL_API_KEY=YOUR_DATA_HERE
# LibreTranslate（自前サーバ等）
LIBRETRANSLATE_URL=YOUR_DATA_HERE
LIBRETRANSLATE_API_KEY=YOUR_DATA_HERE

# 接続失敗時の過剰リトライ抑制設定
VOICE_RETRY_MAX=5
VOICE_RETRY_INITIAL_DELAY_MS=1000
VOICE_RETRY_MAX_DELAY_MS=30000
